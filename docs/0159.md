# 什么是种族条件

> 原文:[https://www.javatpoint.com/what-is-race-condition](https://www.javatpoint.com/what-is-race-condition)

竞态条件或竞态危险是软件、电子设备或其他系统的不良情况。当系统或程序的输出依赖于其他不受控制的事件的顺序或定时时，这种情况被称为竞争条件。

这种情况主要发生在逻辑电路、分布式和多线程软件程序中。

比赛状态分为临界或非临界比赛状态。临界竞争条件是指当内部变量的顺序调节机器的最后状态时出现的条件。另一方面，非临界竞争条件是当内部变量的顺序不调节机器的最后状态时出现的那些条件。

## 电子学中的竞争条件

以下示例描述了电子系统中的竞争情况:

在这个例子中，我们使用一个逻辑门来处理布尔值。

我们拿一个 AND 逻辑门来说，它接受两个 A 和 B 输入，结果只给出一个输出。

当 A 和 B 的输入为真时，该门将给出真输出，当一个或两个输入的值为假时，与门将给出布尔假。

这里，当程序在将值插入 A 和 B 变量之前检查逻辑门的输出时，竞争条件出现。

寻找与门输出的正确操作如下:

1.  变量 A 中的输入值，
2.  变量 B 中的输入值，
3.  与门的输出。

竞争情况发生在以下操作中:

1.  变量 A 中的输入值，
2.  与门的输出。
3.  变量 B 中的输入值，

## 软件中的竞争条件

当计算机程序依赖于程序的线程或进程时，软件中就会出现争用情况。

在软件中，我们不能调试竞争条件，因为最终结果是不确定的，并且基于多线程的计时。

现在，我们用下面的例子来描述竞争条件是如何在这个过程中发生的:

假设两个线程线程 1 和线程 2 将全局整数变量的值减少了 2。

下表显示了连续的操作顺序:

| 线程 1 | 线程 2 | 整数值 |
|  |  | Ten |
| 解读价值 |  | Ten |
| 降低价值 |  | Ten |
| 将该值乘以 2 |  | eight |
|  | 读取值 | eight |
|  | 将该值减少 2 | eight |
|  | 写下值 | six |

在上表中，如预期的那样，最终值为 6。

但是，如果这两个线程的操作在没有锁定或同步概念的情况下并发执行，操作的结果可能是错误的。

操作的可选顺序如下图所示:

| 线程 1 | 线程 2 | 整数值 |
|  |  |  |
| 解读价值 |  | Ten |
|  | 读取值 | Ten |
| 将该值减少 2 |  | Ten |
|  | 将该值减少 2 | Ten |
| 写下值 |  | eight |
|  | 写下值 | eight |

在这种情况下，最终值是 8 而不是 6。这是因为线程 1 和线程 2 的减量操作并不互斥。

那些在访问某些资源时不会造成中断的操作称为互斥操作。

* * *