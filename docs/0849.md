# 卡珊德拉数据模型

> 原文:[https://www.javatpoint.com/cassandra-data-model](https://www.javatpoint.com/cassandra-data-model)

Cassandra 中的数据模型与我们通常在 RDBMS 中看到的完全不同。让我们看看卡珊德拉是如何存储数据的。

* * *

## 串

Cassandra 数据库分布在几台一起操作的机器上。最外层的容器称为集群，它包含不同的节点。每个节点都包含一个副本，在出现故障时，由副本负责。Cassandra 以环形格式排列集群中的节点，并将数据分配给它们。

* * *

## Keyspace(键空间)

Keyspace 是 Cassandra 中最外层的数据容器。以下是卡珊德拉中键空间的基本属性:

*   **复制因子:**指定集群中接收相同数据副本的机器数量。
*   **副本放置策略:**是一个关于哪个物种如何在环中放置副本的策略。有三种类型的策略，例如:

1)简单策略(机架感知策略)

2)旧的网络拓扑策略(机架感知策略)

3)网络拓扑策略(数据中心共享策略)

*   **柱族:**柱族放置在键空间下。键空间是一个或多个列族列表的容器，而列族是一组行的容器。每行包含有序的列。列族表示数据的结构。每个键空间至少有一个列族，通常有多个列族。

在 Cassandra 中，良好的数据模型非常重要，因为糟糕的数据模型会降低性能，尤其是当您试图在 Cassandra 上实现 RDBMS 概念时。

* * *

## 卡珊德拉数据模型规则

*   卡珊德拉不支持联接、分组依据、或子句、聚合等。因此，您必须以随时可以检索的方式存储数据。*   Cassandra 针对高写入性能进行了优化，因此您应该最大化您的写入，以获得更好的读取性能和数据可用性。数据写入和数据读取之间存在权衡。因此，通过最大化数据写入次数来优化数据读取性能。*   最大化数据复制，因为 Cassandra 是一个分布式数据库，数据复制提供了即时可用性，没有单点故障。

* * *

## 数据建模目标

在 Cassandra 中建模数据时，您应该有以下目标:

*   **在集群中均匀分布数据:**要在 Cassandra 集群的每个节点上分布等量的数据，必须选择整数作为主键。数据基于作为主键第一部分的分区键分布到不同的节点。
*   **最小化查询数据时读取的分区数:**分区用于绑定一组分区键相同的记录。当发出读查询时，它从不同分区的不同节点收集数据。

在许多分区的情况下，需要访问所有这些分区来收集查询数据。这并不意味着不应该创建分区。如果您的数据非常大，您就不能在单个分区上保存这么多数据。单个分区将会变慢。所以你必须有一个平衡数量的分区。

* * *