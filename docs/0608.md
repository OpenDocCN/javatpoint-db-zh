# PostgreSQL 索引

> 原文：<https://www.javatpoint.com/postgresql-indexes>

在本节中，我们将更有效地了解 **PostgreSQL 索引**、**为什么我们需要使用索引、PostgreSQL 索引的特性、不同类型的索引、**以及在 PostgreSQL 索引部分下执行的各种命令。

## 什么是 PostgreSQL 索引？

在 [PostgreSQL](https://www.javatpoint.com/postgresql-tutorial) 中，索引是用于增强从数据库中检索数据的特殊工具。

一个**数据库索引**平行于一本书的索引。索引创建对所有值的访问，这些值显示在索引列上。

索引有助于数据库服务器比没有索引时更快地识别定义的行。我们必须正确使用**指标**才能得到显著的结果。

## PostgreSQL 索引的特性

PostgreSQL 索引的一些基本特性如下:

*   通过**选择**和**其中**使用一个索引来增强数据输出
*   如果我们使用**插入**和**更新**命令，它会减慢数据输入。
*   在不影响任何数据的情况下，我们可以**创建**和**删除**的
*   我们可以在 **CREATE INDEX** 命令的帮助下，通过定义在其上创建索引的**索引名**和**表或列名**来生成索引。
*   我们还可以创建一个**唯一索引**，类似于**唯一约束。**

## 在 PostgreSQL 索引下执行的命令:

在 PostgreSQL 索引中，我们可以执行以下命令:

*   **[创建索引](postgresql-create-index)**
*   **[下降指数](postgresql-drop-index)**
*   **[列表索引](postgresql-list-indexes)**
*   **唯一索引**
*   **表达式上的指数**
*   **部分指数**
*   **重新索引**
*   **多列索引**

让我们逐一了解它们:

| 命令 | 描述 |
| **创建索引** | 它用于通过定义创建索引的**索引名称**和**表或列名称**来创建新索引。 |
| **下降指数** | **删除索引**命令用于删除当前索引。 |
| **列表索引** | 它用于表示如何列出 PostgreSQL 数据库中的所有索引。 |
| **唯一索引** | **唯一索引**命令允许我们逐步指定唯一索引。 |
| **表达式上的指数** | 它用于基于表达式指定索引。 |
| **部分指数** | **部分索引**用于显示部分索引的使用情况。 |
| **重新索引** | 要重建一个或多个索引，我们可以使用 REINDEX 命令。 |
| **多列索引** | 它用于显示多列索引的用法，以通过 WHERE 子句中的几个条件来增强查询。 |

## PostgreSQL 索引的类型

所有的索引类型都使用不同的算法和存储结构来管理不同类型的命令。

在 PostgreSQL 中，索引可以分为不同的部分，如下所示:

*   **散列索引**
*   **B 树索引**
*   **GIN 指数**
*   **要点指标**
*   **SP-GiST 指数**
*   **布林指数**

### 哈希索引

当索引列包含在表中并与**相等(=)运算符**进行比较时，哈希索引只能处理简单的相等**比较(=)** 运算符。

对于这种类型的场景，开发人员将考虑散列索引。

我们可以使用 [**CREATE INDEX** 命令](postgresql-create-index)和 **USING 子句**中的**哈希索引**来创建哈希索引，如下图所示:

```
CREATE INDEX index_name 
ON table_name 
USING HASH (indexed_column);

```

### b 树索引

PostgreSQL 中最重要的使用索引是 **B 树**索引。

B-Tree 索引是一个平衡树，它保存已排序的数据，并允许在对数时间内进行**插入、搜索、删除**和**顺序访问。**

当评估中包含索引列时，PostgreSQL 开发人员将考虑使用 **B 树索引**，该索引使用以下运算符列表之一:

*   **<**
*   **< =**
*   **=**
*   **> =**
*   **在**之间
*   **输入**
*   **为空**
*   **不为空**

此外，对于模式匹配操作符 LIKE 和 **~** 命令，查询开发者可以使用**一个 B 树索引。**

如果模式是持久的，并且是模式开始时的锚点，我们可以在下面的例子中看到:

```
column_name LIKE 'abb%' 
column_name  ~ '^abb'
column_name LKE 'abc%' 

```

*   另外，对于 **ILIKE 和~*，**如果模式以**非字母**字符开始，不受大小写转换的影响，那么 PostgreSQL 开发人员会故意使用 B 树索引。
*   如果我们已经开始使用索引来优化 PostgreSQL 数据库，那么 **B 树**是一个非常好的选择。
*   如果我们使用 **CREATE INDEX** 命令而不描述任何索引类型，那么 PostgreSQL 默认使用 **B-tree** 索引类型，因为它是最合适和最常见的查询。

### GIN 索引

*   下一类 PostgreSQL 索引是 **GIN** ，代表**广义倒排索引**，通常表示为 **GIN** 。
*   如果我们有几个值存储在单个列中，如**范围类型**、数组、jsonb 和 hstore，那么 GIN 索引是最有益的。

### GiST 索引

*   **GiST 索引**最常用于全文搜索和几何数据类型的索引。
*   **广义搜索树**表示 GiST 索引，它提供了一般树结构的构建。

### SP-GiST 索引

*   **空间分区的 GiST 被表示为 **SP- GiST** ，其保持分区的搜索树，这使得能够开发大范围的不同的非平衡数据结构。**
*   包含自然聚类元素的数据也不是**等平衡树**，像，**多媒体，GIS，IP 路由，电话路由，IP 路由，**在这种情况下，我们可以使用 **SP-GiST**

### 布林

*   **BRIN** 指数可以很容易地维护，因为它比 B-tree 指数更便宜、更小，它代表**区块范围指数**。
*   通常，BRIN 索引用在一列上，该列包含线性排序顺序，例如**销售订单**的生成日期列
*   在 PostgreSQL 索引中，BRIN 允许在一个巨大的表上使用索引，如果没有并行分区，这在早期的 B 树中是不可用的。

## 使用 PostgreSQL 索引的缺点

我们有以下理由避免 PostgreSQL 索引:

*   PostgreSQL 索引不应用于包含大量空值的列。
*   PostgreSQL 索引不能用于小表。
*   我们不会为经常部署的列创建索引。
*   我们不为表创建索引，而是进行频繁的大批量更新或插入操作。

## 概观

在 **PostgreSQL 索引**部分，我们学习了以下主题:

*   **PostgreSQL 索引**用于增强从数据库中检索数据。
*   我们已经理解了 PostgreSQL 索引的**特性**。
*   我们还了解到 PostgreSQL 索引支持各种命令，如**创建索引、删除索引、列表索引、唯一索引、表达式索引、部分索引、重新索引、多列索引。**
*   我们还学习了 PostgreSQL 索引的多种类型，包括 HASH 索引、 **B 树索引、GIN 索引、BRIN 索引、GiST 索引和 SP-GiST 索引。**
*   我们还了解了使用 **PostgreSQL 索引的缺点。**

* * *