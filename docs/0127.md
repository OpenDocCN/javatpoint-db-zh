# SQL 日期函数

> 原文：<https://www.javatpoint.com/sql-date-functions>

在本教程中，我们将学习一些内置于 SQL 中的重要日期函数。

### SQL 中的日期函数:

1.  现在()
2.  治愈()
3.  CURTIME()
4.  日期()
5.  EXTRACT()
6.  DATE_ADD()
7.  DATE_SUB()
8.  DATEDIFF()
9.  DATE_FORMAT()

让我们借助例子，一个一个地详细了解每个日期函数。我们将在示例中使用 MySQL 数据库来编写查询。

假设我们有包含以下数据的学生表:

| 身份 | 名字 | 日期时间 _ 出生 | 城市 |
| one | 曼西·沙阿 | 2010-01-01 18:39:09 | 浦那 |
| Two | Tejal Wagh | 2010-03-04 05:13:19 | 我的项链 |
| three | 塞哈尔·库马里 | 2010-05-01 10:31:07 | 孟买 |
| four | 索纳尔·贾恩 | 2010-09-09 17:17:07 | 西姆拉 |
| five | 苏里南·马赫什瓦拉 | 2010-07-10 20:45:18 | 苏拉特 |

我们将在一些示例中使用该表。

### 1.NOW():

函数将给出当前系统的日期和时间。

**语法:**

```

SELECT NOW ();

```

**示例:**

编写一个查询来显示当前系统的日期和时间。

**查询:**

```

mysql> SELECT NOW () AS Current_Date_Time; 

```

在这里，我们用 NOW()函数编写了一个 SELECT 查询来获取系统的当前日期和时间。Current_Date_Time 是存储日期和时间的别名。

执行上述查询后，我们得到了以下输出:

| 当前 _ 日期 _ 时间 |
| 2021-10-24 18:28:44 |

系统执行查询的日期和时间为 2021 年 10 月 24 日<sup>和 18:28:44。因此，它显示为输出。</sup>

### 2.治愈()

函数将给出当前系统的日期。

**语法:**

```

SELECT CURDATE ();

```

**示例:**

编写一个查询来显示当前系统的日期。

**查询:**

```

mysql> SELECT CURDATE () AS CurrentDate;

```

在这里，我们已经编写了一个带有 CODETATE()函数的 SELECT 查询来获取系统的当前日期。CurrentDate 是存储日期的别名。

执行上述查询后，我们得到了以下输出:

| 当前日期 |
| 2021-10-24 |

系统执行查询的日期为 2021 年 10 月 24 日<sup>。因此，它显示为输出。</sup>

### 3.CURTIME()

函数将给出当前的系统时间。

**语法:**

```

SELECT CURTIME ();

```

**示例:**

编写一个查询来显示当前系统的时间。

**查询:**

```

mysql> SELECT CURTIME () AS CurrentTime;

```

在这里，我们已经用 CURTIME()函数编写了一个 SELECT 查询来获取系统的当前时间。CurrentTime 是存储时间的别名。

执行上述查询后，我们得到了以下输出:

| 当前时间 |
| 18:49:07 |

在系统中执行查询的时间是 18:49:07。因此，它显示为输出。

### 4.日期()

使用 SQL 中的 DATE()函数，您可以专门从 DATETIME 数据类型列中提取日期。

**语法:**

```

SELECT DATE (DateTimeValue);

```

**例 1:**

编写一个查询来显示给定日期和时间的日期，即 2021-10-24 18:28:44。

**查询:**

```

mysql> SELECT DATE ("2021-10-24 18:28:44") AS SHOW_DATE;

```

在这里，我们用 date()函数编写了一个 SELECT 查询，只从传递给 DATE()函数的日期和时间参数中获取日期。SHOW_DATE 是存储日期的别名。

执行上述查询后，我们得到了以下输出:

| 显示日期 |
| 2021-10-24 |

根据日期和时间参数，即“2021-10-24 18:28:44”，日期值为 2021-10-24。因此，它显示为输出。

**例 2:**

编写一个查询来显示学生表中的所有详细信息，日期来自学生表的 DateTime_Birth 列。

**查询:**

```

mysql> SELECT ID, Name, DATE(DateTime_Birth) AS Date_of_Birth, City FROM student;

```

在这里，我们编写了一个 SELECT 查询来获取标识和名称。出生日期是日期时间出生的别名。我们将出生日期和日期()函数结合使用，只得到日期。

执行上述查询后，我们得到了以下输出:

| 身份 | 名字 | 出生日期 | 城市 |
| one | 曼西·沙阿 | 2010-01-01 | 浦那 |
| Two | Tejal Wagh | 2010-03-04 | 我的项链 |
| three | 塞哈尔·库马里 | 2010-05-01 | 孟买 |
| four | 索纳尔·贾恩 | 2010-09-09 | 西姆拉 |
| five | 苏里南·马赫什瓦拉 | 2010-07-10 | 苏拉特 |

除了“日期时间 _ 出生”列之外，所有记录都按学生表中的原样显示。根据要求，出生日期栏中只显示日期。

### 5.EXTRACT()

使用 SQL 中的 EXTRACT()函数，我们可以根据自己的需求提取日期和时间的特定部分:日、月、年、日、小时、分钟等。

**语法:**

```

SELECT EXTRACT (PART FROM DATE / TIME);

```

**例 1:**

写一个查询显示从给定日期开始的年份，即 2021 年 10 月 24 日<sup>。</sup>

**查询:**

```

mysql> SELECT EXTRACT (YEAR FROM "2021-10-24") AS SHOW_YEAR;

```

在这里，我们编写了一个 SELECT 查询，使用 EXTRACT()函数从给定的日期获取年份。SHOW_YEAR 是存储年份的别名。

执行上述查询后，我们得到了以下输出:

| 显示年份 |
| Two thousand and twenty-one |

“2021”是给定日期的年份。因此，它显示为输出。

**例 2:**

写一个查询显示从给定日期开始的月份，即 2021 年 10 月 24 日<sup>。</sup>

**查询:**

```

mysql> SELECT EXTRACT (MONTH FROM "2021-10-24") AS SHOW_MONTH;

```

在这里，我们编写了一个 SELECT 查询，使用 EXTRACT()函数从给定的日期获取月份。SHOW_MONTH 是存储月份的别名。

执行上述查询后，我们得到了以下输出:

| SHOW_MONTH |
| Ten |

10 <sup>th</sup> 是给定日期的月份值。因此，它显示为输出。

**例 3:**

写一个查询显示从给定日期开始的一天，即 2021 年 10 月 24 日<sup>至</sup>。

**查询:**

```

mysql> SELECT EXTRACT (DAY FROM "2021-10-24") AS SHOW_DAY;

```

在这里，我们编写了一个 SELECT 查询，使用 EXTRACT()函数从给定的日期获取日期。SHOW_DAY 是存储日期的别名。

执行上述查询后，我们得到了以下输出:

| 显示日 |
| Twenty-four |

24 <sup>th</sup> 是给定日期的日数值。因此，它显示为输出。

**例 4:**

编写一个查询来显示给定时间的小时，即 19:10:43。

**查询:**

```

mysql> SELECT EXTRACT (HOUR FROM "19:10:43") AS SHOW_HOUR;

```

在这里，我们编写了一个 SELECT 查询，使用 EXTRACT()函数从给定的时间获取小时。SHOW_HOUR 是存储小时值的别名。

执行上述查询后，我们得到了以下输出:

| 显示小时 |
| Nineteen |

“19”是给定时间内的小时值。因此，它显示为输出。

**例 5:**

编写一个查询来显示给定时间的分钟，即 19:10:43。

**查询:**

```

mysql> SELECT EXTRACT (MINUTE FROM "19:10:43") AS SHOW_MINUTE;

```

在这里，我们编写了一个 SELECT 查询，使用 EXTRACT()函数来获取给定时间的分钟值。SHOW_MINUTE 是存储分钟的别名。

执行上述查询后，我们得到了以下输出:

| 显示 _ 分钟 |
| Ten |

“10”是给定时间内的分钟值。因此，它显示为输出。

**例 6:**

编写一个查询来显示给定时间的秒数，即 19:10:43。

**查询:**

```

mysql> SELECT EXTRACT (SECOND FROM "19:10:43") AS SHOW_SECOND;

```

在这里，我们编写了一个带有 EXTRACT()函数的 SELECT 查询来获取给定时间的秒值。SHOW_SECOND 是存储秒的值的别名。

执行上述查询后，我们得到了以下输出:

| 显示 _ 秒 |
| Forty-three |

43 是给定时间内的第二个值。因此，它显示为输出。

### 6.DATE_ADD()

使用 SQL 中的 DATE_ADD()函数，我们可以给给定的日期添加一个特定的时间间隔。

**语法:**

```

SELECT DATE_ADD (DATE, INTERVAL VALUE Unit_to_be_added);

```

**例 1:**

写一个查询给给定日期增加一个 15 天的间隔，即 2021 年 10 月 24 日<sup>。</sup>

**查询:**

```

mysql> SELECT DATE_ADD ("2021-10-24", INTERVAL 15 DAY) AS NEW_DATE;

```

在这里，我们用 DATE_ADD()函数编写了一个 SELECT 查询，向给定的日期添加 15 天的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 2021-11-08 |

2021-10-24 增加 15 天间隔后，新日期为 2021-11-08。

**例 2:**

写一个查询给给定日期增加一个 5 个月的间隔，即 2021 年 10 月 24 日<sup>第</sup>。

**查询:**

```

mysql> SELECT DATE_ADD ("2021-10-24", INTERVAL 5 MONTH) AS NEW_DATE;

```

在这里，我们用 DATE_ADD()函数编写了一个 SELECT 查询，向给定的日期添加 5 个月的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 2022-03-24 |

2021-10-24 增加 5 个月间隔后，新日期为 2022-03-24。

**例 3:**

写一个查询给给定日期增加一个 25 年的间隔，即 2021 年 10 月 24 日<sup>。</sup>

**查询:**

```

mysql> SELECT DATE_ADD ("2021-10-24", INTERVAL 25 YEAR) AS NEW_DATE;

```

在这里，我们用 DATE_ADD()函数编写了一个 SELECT 查询，向给定的日期添加 25 年的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 2046-10-24 |

在 2021-10-24 增加 25 年间隔后，新日期为 2046-10-24。

### 7.DATE_SUB()

使用 SQL 中的 DATE_SUB()函数，我们可以从给定的日期中删除特定的时间间隔。

**语法:**

```

SELECT DATE_SUB (DATE, INTERVAL VALUE Unit_to_be_subtracted);

```

**例 1:**

写一个查询，从给定日期，即 2021 年 10 月 24 日<sup>第</sup>起，删除 25 年的间隔。

**查询:**

```

mysql> SELECT DATE_SUB("2021-10-24", INTERVAL 25 YEAR) AS NEW_DATE;

```

在这里，我们用 DATE_SUB()函数编写了一个 SELECT 查询，从给定的日期中删除 25 年的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 1996-10-24 |

从 2021-10-24 去掉 25 年间隔后，新的日期是 1996-10-24。

**例 2:**

写一个查询，从给定日期，即 2021 年 10 月 24 日<sup>第</sup>起，删除 5 个月的间隔。

**查询:**

```

mysql> SELECT DATE_SUB("2021-10-24", INTERVAL 5 MONTH) AS NEW_DATE;

```

在这里，我们用 DATE_SUB()函数编写了一个 SELECT 查询，从给定的日期中删除了 5 个月的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 2021-05-24 |

从 2021-10-24 去掉 5 个月的间隔后，新的日期是 2021-05-24。

**例 3:**

写一个查询，从给定日期，即 2021 年 10 月 24 日<sup>第</sup>删除 15 天的间隔。

**查询:**

```

mysql> SELECT DATE_SUB("2021-10-24", INTERVAL 15 DAY) AS NEW_DATE;

```

在这里，我们用 DATE_SUB()函数编写了一个 SELECT 查询，从给定的日期中删除 15 天的间隔。NEW_DATE 是存储新日期值的别名。

您将获得以下输出:

| 新 _ 日期 |
| 2021-10-09 |

从 2021-10-24 去掉 15 天间隔后，新的日期是 2021-10-09。

### 8.DATEDIFF()

在 SQL 中使用 DATEDIFF()函数将给出两个给定日期之间的天数。

**语法:**

```

SELECT DATEDIFF(Date1, Date2);

```

**例 1:**

编写一个查询来计算两个给定日期之间的差异，即 2021 年 10 月 24 日<sup>和 2021 年 10 月 9 日<sup>。</sup></sup>

**查询:**

```

mysql> SELECT DATEDIFF("2021-10-24", "2021-10-09") AS NEW_DATE;

```

在这里，我们用 DATE_DIFF()函数编写了一个 SELECT 查询，以获得 2021-10-24 和 2021-10-09 这两个日期之间的差异。天数是存储天数差异的别名。

您将获得以下输出:

| 天数 |
| Fifteen |

2021-10-24 和 2021-10-09 的日期相差 15 天。

**例 2:**

编写一个查询来计算两个给定日期之间的差异，即 2018 年 5 月 5 日<sup>和 2008 年 5 月 5 日<sup>。</sup></sup>

**查询:**

```

mysql> SELECT DATEDIFF ("2018-05-05", "2008-05-05") AS NEW_DATE;

```

在这里，我们用 DATE_DIFF()函数编写了一个 SELECT 查询，以获得 2018-05-05 和 2008-05-05 这两个日期之间的差异。天数是存储天数差异的别名。

您将获得以下输出:

| 天数 |
| Three thousand six hundred and fifty-two |

2018-05-05 和 2008-05-05 的日期相差 3652 天。

### 9.DATE_FORMAT()

使用 SQL 中的 DATE_FORMAT()函数，我们可以以格式良好的方式显示日期或时间相关信息。

**在表的列上使用 DATE_FORMAT 函数的语法:**

```

SELECT DATE_FORMAT (ColumnName, Expression) FROM Table Name;

```

**或**

**格式化特定日期的语法:**

```

SELECT DATE_FORMAT (Date, Expression);

```

**例 1:**

写一个查询，以格式良好的方式显示给定的日期，即 2021 年 10 月 24 日<sup>。</sup>

**查询:**

```

mysql> SELECT DATE_FORMAT ("2021-10-24", "%W %D %M %Y") AS Formatted_Date;

```

在这里，我们用 DATE_FORMAT()函数编写了一个 SELECT 查询，以格式化的形式获取日期 2021-10-24。格式化日期是存储格式化日期的别名。

您将获得以下输出:

| 格式化日期 |
| 2021 年 10 月 24 日星期日 |

2021 年 10 月 24 日星期日是 2021-10-24 的格式化日期。

**例 2:**

写一个查询，以格式良好的方式显示给定的日期和时间，即 2021 年 10 月 24 日<sup>第</sup>22:30:17。

**查询:**

```

mysql> SELECT DATE_FORMAT ("2021-10-24 22:30:17", "%W %D %M %Y %r") AS Formatted_DateTime;

```

在这里，我们用 DATE_FORMAT()函数编写了一个 SELECT 查询，以格式化的形式获取日期和时间‘2021-10-24 22:30:17’。格式化日期时间是存储格式化日期和时间的别名。

您将获得以下输出:

| 格式化日期时间 |
| 2021 年 10 月 24 日星期日晚上 10:30:17 |

2021 年 10 月 24 日星期日晚上 10:30:17 是 2021-10-24 22:30:17 的格式化日期和时间。

**例 3:**

编写一个查询，以格式良好的方式使用 DateTime_Birth 列显示学生列中的所有详细信息。

**查询:**

```

mysql> SELECT ID, Name, DATE_FORMAT (DateTime_Birth, "%W %D %M %Y %r") AS Formatted_DateTime, City FROM student;

```

在这里，我们用 DATE_FORMAT()函数编写了一个 SELECT 查询，以格式化的形式获取所有记录的日期和时间。格式化日期时间是存储格式化日期和时间的别名。

您将获得以下输出:

| 身份 | 名字 | 格式化日期时间 | 城市 |
| one | 曼西·沙阿 | 2010 年 1 月 1 日星期五下午 06:39:09 | 浦那 |
| Two | Tejal Wagh | 2010 年 3 月 4 日星期四上午 05:13:19 | 我的项链 |
| three | 塞哈尔·库马里 | 2010 年 5 月 1 日星期六上午 10:31:07 | 孟买 |
| four | 索纳尔·贾恩 | 2010 年 9 月 9 日星期四下午 05:17:07 | 西姆拉 |
| five | 苏里南·马赫什瓦拉 | 2010 年 7 月 10 日星期六晚上 8:45:18 | 苏拉特 |

除了“日期时间 _ 出生”列之外，所有记录都按学生表中的原样显示。根据要求，在格式化日期时间列中仅显示日期和时间。

* * *